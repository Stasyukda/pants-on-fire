<!doctype html>
<html lang="uk">
<meta charset="utf-8"/>
<title>Demo Client</title>
<body>
  <h2>Demo: –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Socket.IO</h2>
  <p>
    Room: <input id="room" value="class-1"/>
    Name: <input id="user" value="StudentA"/>
    <button id="join">Join</button>
  </p>
  <p>
    –í—ñ–¥–ø–æ–≤—ñ–¥—å: <input id="ans" value="Hello"/>
    <button id="send">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
  </p>
  <pre id="log"></pre>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script>
    const log = (m) => document.getElementById('log').textContent += m + "\n";
    const socket = io();

    document.getElementById('join').onclick = () => {
      const room = document.getElementById('room').value;
      socket.emit('join', room);
      log('‚û° join ' + room);
    };

    document.getElementById('send').onclick = () => {
      const room = document.getElementById('room').value;
      const user = document.getElementById('user').value;
      const value = document.getElementById('ans').value;
      socket.emit('answer', { room, user, value });
      log(`‚û° answer (${user}): ${value}`);
    };

    socket.on('system', (m) => log('üì£ ' + m));
    socket.on('answer', (p) => log('‚úÖ answer: ' + JSON.stringify(p)));
    socket.on('score',  (p) => log('‚≠ê score: '  + JSON.stringify(p)));
  </script>
</body>
</html>
